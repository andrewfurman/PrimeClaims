💊 Pharmacy Claims Data Model Update


**Drug Information Fields**  
1. **drug_name**  
   - Type: `TEXT`  
   - Description: The name of the drug (e.g., "Amoxicillin").

2. **drug_strength**  
   - Type: `TEXT`  
   - Description: The strength or potency of the drug (e.g., "125MG/5ML").

3. **drug_form**  
   - Type: `TEXT`  
   - Description: The dosage form of the drug (e.g., "Suspension Reconstituted").

**Dispense As Written (DAW) & Related Codes**  
4. **daw_code**  
   - Type: `TEXT`  
   - Description: The Dispense as Written code (0–9), indicating prescriber or patient instructions regarding substitution (e.g., "1" for no substitution allowed by prescriber).

5. **professional_service_code**  
   - Type: `TEXT`  
   - Description: Code representing the type of professional service performed by the pharmacist (e.g., "MA" for medication administration).

6. **dur_pps_level_of_effort_value**  
   - Type: `TEXT`  
   - Description: Indicates the complexity level (11, 12, 13, 14, 15) of pharmacist’s professional service per DUR/PPS guidance.

7. **reason_for_service_code**  
   - Type: `TEXT`  
   - Description: Explains why the pharmacist took a particular action in response to a clinical DUR issue or override scenario (e.g., "SC" for self-care consultation).

8. **submission_clarification_code**  
   - Type: `TEXT`  
   - Description: Provides additional context about the submission (e.g., emergency fill, lost medication), giving the payer more clarity.

9. **result_of_service_code**  
   - Type: `TEXT`  
   - Description: Indicates the outcome or action taken by the pharmacist after identifying a conflict (e.g., "1B" for filled prescription as is).

**Payment and Amount Fields**  
10. **vaccine_administration_reimbursement_amount**  
    - Type: `NUMERIC(10,2)`  
    - Description: The amount requested for administering a vaccine.

11. **other_payer_patient_responsibility_amount** (OPPRA)  
    - Type: `NUMERIC(10,2)`  
    - Description: The amount of cost responsibility the patient had under another payer scenario.

12. **other_payer_reject_code**  
    - Type: `TEXT`  
    - Description: The reject code returned by another payer when the claim is denied (e.g., "MR").

**Other Payer and Coverage Details**  
13. **other_payer_qualifier**  
    - Type: `TEXT`  
    - Description: Identifies the type of other payer ID submitted (e.g., "03" for BIN).

**Context and Location Fields**  
14. **place_of_service**  
    - Type: `TEXT`  
    - Description: The location where the service was performed (e.g., doctor’s office, hospital outpatient, pharmacy).

15. **pharmacy_service_type**  
    - Type: `TEXT`  
    - Description: The type of pharmacy from which the prescription was dispensed (e.g., "01" for community/retail, "05" for long-term care).

16. **patient_residence_code**  
    - Type: `TEXT`  
    - Description: The code indicating the patient’s residence at the time of dispensing (e.g., "1" for home, "3" for nursing facility).


class Claim(db.Model):
    __tablename__ = 'claims'
    
    # Primary Key
    claim_id = db.Column(db.Integer, primary_key=True, autoincrement=True)
    
    # Foreign Key to Member
    # Update the Foreign Key to include cascade delete
    member_id = db.Column(db.Integer, 
                         db.ForeignKey('members.database_id', ondelete='CASCADE'), 
                         nullable=False)
    
    # Service Provider Information
    service_provider_id_qualifier = db.Column(db.TEXT, nullable=True)
    service_provider_id = db.Column(db.TEXT, nullable=True)
    
    # Other Payer Information
    other_payer_id_qualifier = db.Column(db.TEXT, nullable=True)
    other_payer_id = db.Column(db.TEXT, nullable=True)
    other_payer_amount_paid = db.Column(NUMERIC(10,2), nullable=True)
    
    # Diagnosis Information
    diagnosis_code_qualifier = db.Column(db.TEXT, nullable=True)
    diagnosis_code = db.Column(db.TEXT, nullable=True)
    clinical_information = db.Column(TEXT, nullable=True)
    
    # Claim Details (AM07)
    prescription_service_reference_number_qualifier = db.Column(TEXT, nullable=True)
    prescription_service_reference_number = db.Column(TEXT, nullable=True)
    product_service_id_qualifier = db.Column(TEXT, nullable=True)
    product_service_id = db.Column(TEXT, nullable=True)
    quantity_dispensed = db.Column(db.Integer, nullable=True)
    fill_number = db.Column(db.Integer, nullable=True)
    ndc_number = db.Column(TEXT, nullable=True)
    days_supply = db.Column(db.Integer, nullable=True)
    dispense_as_written = db.Column(db.Boolean, nullable=True)
    date_prescription_written = db.Column(db.Date, nullable=True)
    prescription_origin_code = db.Column(TEXT, nullable=True)
    other_coverage_code = db.Column(TEXT, nullable=True)
    special_packaging_indicator = db.Column(db.Boolean, nullable=True)
    unit_of_measure = db.Column(TEXT, nullable=True)
    
    # Pricing (AM11)
    ingredient_cost_submitted = db.Column(NUMERIC(10,2), nullable=True)
    dispensing_fee_submitted = db.Column(NUMERIC(10,2), nullable=True)
    patient_paid_amount_submitted = db.Column(NUMERIC(10,2), nullable=True)
    usual_and_customary_charge = db.Column(NUMERIC(10,2), nullable=True)
    gross_amount_due = db.Column(NUMERIC(10,2), nullable=True)
    basis_of_cost_determination = db.Column(TEXT, nullable=True)
    
    # Prescriber Information (AM03)
    prescriber_id_qualifier = db.Column(TEXT, nullable=True)
    prescriber_id = db.Column(TEXT, nullable=True)
    prescriber_last_name = db.Column(TEXT, nullable=True)
    prescriber_phone_number = db.Column(TEXT, nullable=True)
    
    # Timestamps
    created_at = db.Column(db.DateTime(timezone=True), nullable=False, default=datetime.utcnow)
    updated_at = db.Column(db.DateTime(timezone=True), nullable=False, default=datetime.utcnow, onupdate=datetime.utcnow)

How To Guide

Test Claim Generation - How To Guide

https://scribehow.com/page/Configurable_Attributes_in_Test_Claim_Drug_Section__cC5eDLBHR4ilNJQp9-3Cnw 

Configurable Attributes in Test Claim Drug Section


Overview of Test Claim Inputs
When running a test claim, there are various fields and inputs into those fields that a user can configure to determine how a specific scenario would adjudicate. See below for an explanation of each field and its available inputs.
Note: Other than the Quantity and Days Supply fields, these fields are not required to run a trial adjudication.



Drug Entry Section:
- Header: "Single Drug"
- Drug Information Fields:
  * Drug Name: Amoxicillin
  * NDC: 65862076655 
  * Strength: 125MG/5ML
  * Form: Suspension Reconstituted
  * Quantity: [Empty field marked as required]
  * Action button: "+ ADD DRUG"

Main Form Fields (organized in four columns):
1. First Column:
   * Days Supply
   * Professional Service Code
   * Prescriber ID Qualifier
   * Other Coverage Code (dropdown)
   * Other Payer Patient Responsibility Amount (OPPRA)
   * Diagnosis Code Qualifier (use 02 for ICD-10)
   * Dispensing Fee Submitted

2. Second Column:
   * Dispense as Written (DAW) Code
   * DUR/PPS Level of Effort Value
   * Prescriber ID (NPI)
   * Other Payer Qualifier
   * Other Payer Reject Code
   * Diagnosis Code
   * Vaccine Administration Reimbursement Amount

3. Third Column:
   * Fill Number
   * Reason for Service Code
   * Pharmacy Service Type
   * Other Payer ID
   * Patient Residence Code
   * U&C/Submitted Cost
   * Special Packaging Indicator

4. Fourth Column:
   * Submission Clarification Code
   * Result of Service Code
   * Place of Service
   * Other Payer Amount Paid (OPAP)
   * Prescription Origin Code
   * Ingredient Cost Submitted

Bottom Action Buttons:
- "TEST ADJUDICATION" (gray button)
- "PROCESS AS BATCH" (gray button with document icon)

Navigation/Header:
- Top blue navigation bar with "JUDI" logo and "TEST ADJUDICATION" section
- "Account" option in top right
- "DRUG" section highlighted in purple

Drug Input Options in a Test Claim
Quantity: The number of metric units of medication dispensed/prescribed. This is a required field. (Ex: 28)
Days Supply: The number of days of medication that the physician prescribed. This is a required field. (Ex: 30)
Dispense as Written (DAW) Code: This field indicates the prescriber's instruction regarding substitution of generic equivalents or order to dispense the specific prescribed medication.
￼

I'll help convert this image into a structured text format. This appears to be a table showing DAW (Dispense As Written) codes used in pharmacy practice, which indicate different scenarios for drug substitution. Let me organize this into a clear format with explanatory notes:

Pharmacy DAW (Dispense As Written) Code Reference

Code Definitions and Explanations:

DAW 0: No product selection indicated
Note: This is the default state when no specific dispensing instructions are provided.

DAW 1: Substitution not allowed by prescriber
Note: The prescriber has explicitly indicated that the medication must be dispensed exactly as written.

DAW 2: Substitution allowed - patient requested product dispensed
Note: While substitution is permitted, the specific product was dispensed based on patient preference.

DAW 3: Substitution allowed - pharmacy requested product dispensed
Note: The pharmacy made the decision on which product to dispense, with substitution being permitted.

DAW 4: Substitution allowed - generic drug not in stock
Note: A substitution could have been made, but the generic version was unavailable in inventory.

DAW 5: Substitution allowed - brand drug dispensed as generic
Note: The brand name drug was dispensed but billed as a generic equivalent.

DAW 6: Undefined (not in general use; reserved for future use)
Note: This code is currently inactive and reserved for potential future implementation.

DAW 7: Substitution not allowed - brand drug mandated by law/regulation
Note: Legal or regulatory requirements mandate dispensing the brand name product.

DAW 8: Substitution not allowed - generic drug not available in marketplace
Note: No generic alternative exists in the current pharmaceutical market.

DAW 9: Undefined (not in general use, reserved for future use)
Note: Like DAW 6, this code is currently inactive and reserved for future use.

This reference guide provides a comprehensive overview of the DAW coding system used in pharmacy practice to indicate various scenarios regarding medication substitution and dispensing requirements. Would you like me to explain any particular aspects of these codes in more detail?

Fill Number: Which number refill of the prescription is this. (Ex: 2)
Submission Clarification Code (SCC): This code provides the third-party payer with further details about the dispensing event.
￼

Let me convert this rejection code table into a clear text format with explanatory notes. I'll maintain the structure while making it easy to understand:

Reject Code: A1
SCC: 52
Description: The Prescriber ID submitted has been validated, is active
Note: This is a basic validation check confirming the prescriber's active status.

Reject Code: 43, 44
SCC: 43, 44
Description: Two related conditions:
1. For the Prescriber ID submitted, associated prescriber DEA Renewed or In Progress, DEA Authorized Prescriptive Rights
2. For the Prescriber ID submitted, associated DEA is a valid Hospital DEA with Suffix
Note: These codes deal with DEA (Drug Enforcement Administration) credentials and authorizations.

Reject Code: 46
SCC: 46
Description: For the Prescriber ID submitted and associated prescriber DEA, the DEA has authorized prescriptive rights for this drug DEA Class
Note: This specifically relates to the prescriber's authorization for a particular class of controlled substances.

Reject Code: 619
SCC: 42
Description: The Prescriber ID submitted has been validated, is active; Prescriber does not currently have an active Type 1 NPI.
Note: This combines a validation check with NPI (National Provider Identifier) status verification.

Would you like me to explain any of these codes or their implications in more detail?

Professional Service Code (PSC): This code is used when pharmacies want to be paid a Vaccine Administration Fee, and for some of the cDUR edits that reject code 88.
￼

Let me help you convert this into a structured text format. The image shows a table of medical intervention codes and their descriptions, which appears to be a reference guide for healthcare professionals. I'll structure it as clear notes:

Medical Intervention Codes Reference Guide

Basic Codes:
00 - No intervention required or performed
MA - Administration of medication to patient
M0 - Cases requiring prescriber consultation
MR - Review of patient's medication

Patient-Centered Actions:
P0 - Direct consultation with patient
AS - Comprehensive patient assessment
PE - Providing education and instructions to patient
PH - Review/documentation of patient medication history
PM - Ongoing patient monitoring
PT - Laboratory testing performed

Clinical Decision Making:
CC - Coordination of patient care
DE - Evaluation and determination of proper dosing
FE - Enforcement of formulary requirements
GP - Selection of generic product alternatives
R0 - Consultation with other pharmacist/source
RT - Recommendation for laboratory testing
SC - Consultation regarding self-care
TH - Interchange of therapeutic products

Administrative/Research Tasks:
SW - Conducting literature search or review
TC - Consultation with payer or processor

This organization reflects the systematic nature of healthcare interventions, from basic patient care to more complex clinical decisions and administrative tasks. Each code consists of two characters (either letters or numbers) followed by a descriptive explanation of the intervention or action required.

Would you like me to organize this information in a different way or highlight specific aspects of these medical intervention codes?

DUR/PPS Level of Effort Value: This code indicates the level of effort as determined by the complexity of decision making or resources utilized by a pharmacist to perform a professional service.
￼

I'll convert this image into structured text that preserves the information about pharmacy service complexity levels and their corresponding codes. Here's the organized version:

Notes on Pharmacy Service Complexity Levels:

Code 11 - Level 1 (Lowest) - Straightforward
- Service characteristics: Minimal diagnosis or treatment options, minimal data complexity considered, and minimal risk
- Time requirement: 1 to 4 minutes of pharmacist's time

Code 12 - Level 2 (Low Complexity)
- Service characteristics: Limited diagnosis or treatment options, limited data complexity considered, and low risk
- Time requirement: 5 to 14 minutes of pharmacist's time

Code 13 - Level 3 (Moderate Complexity)
- Service characteristics: Moderate diagnosis or treatment options, moderate data complexity considered, and moderate risk
- Time requirement: 15 to 29 minutes of pharmacist's time

Code 14 - Level 4 (High Complexity)
- Service characteristics: Multiple diagnosis or treatment options, extensive data complexity considered, and high risk
- Time requirement: 30 to 59 minutes of pharmacist's time

Code 15 - Level 5 (Highest) - Comprehensive
- Service characteristics: Extensive diagnosis or treatment options, exceptional data complexity considered
- Additional features: Counseling or coordination of care dominated the encounter
- Time requirement: Equal to or greater than 60 minutes of pharmacist's time

This structure shows the progressive increase in complexity across five levels, with each level requiring more time and involving greater complexity in terms of diagnosis, treatment options, and risk assessment.

Reason for Service Code: This code explains whether the pharmacist filled the prescription and the reason the fill was allowed. Will be used for certain cDUR Edits that reject code 88, as well as Opioid Safety Edits that have a “soft” reject which the pharmacy can override at the point of sale.
￼


￼

I'll convert this image into a structured text format. This appears to be a reference table of medical/pharmaceutical codes and their meanings.

Notes on Drug-Related Codes and Their Definitions

NA - Drug Not Available
    This code indicates when a medication cannot be obtained or is not currently accessible.

NF - Non-Formulary Drug
    This designation is used for medications that are not included in the standard approved drug list.

NN - Unnecessary Drug
    This code signifies when a medication is deemed not necessary for the patient's treatment.

NP - New Patient Processing
    This indicates procedures or considerations related to processing new patient medications.

NR - Lactation/Nursing Interaction
    This code is used to flag potential interactions between medications and nursing/breastfeeding.

NS - Insufficient Quantity
    This designation indicates when the prescribed amount of medication is not adequate.

OH - Alcohol Conflict
    This code identifies potential interactions between medications and alcohol consumption.

PA - Drug-Age
    This indicates considerations related to medication appropriateness for patient age.

PC - Patient Question/Concern
    This code is used when there are specific patient inquiries or worries about medication.

PG - Drug-Pregnancy
    This designation indicates considerations for medication use during pregnancy.

PH - Preventive Health Care
    This code relates to medications or treatments for preventive healthcare purposes.

PN - Prescriber Consultation
    This indicates when consultation with the prescribing healthcare provider is needed.

PP - Plan Protocol
    This code relates to specific treatment plan procedures or protocols.

PR - Prior Adverse Reaction
    This indicates a history of previous adverse reactions to medications.

PS - Product Selection Opportunity
    This code suggests potential alternatives in medication selection.

RF - Health Provider Referral
    This indicates when referral to a healthcare provider is necessary.

SC - Suboptimal Compliance
    This code indicates issues with patient adherence to medication regimens.

SD - Suboptimal Drug/Indication
    This designation suggests the prescribed medication may not be optimal for the condition.

SE - Side Effect
    This code indicates the presence or concern of medication side effects.

SF - Suboptimal Dosage Form
    This indicates issues with the prescribed form of medication delivery.

SR - Suboptimal Regimen
    This code suggests the overall medication regimen may not be optimal.

SX - Drug-Gender
    This indicates gender-specific considerations for medication use.

TD - Therapeutic
    This code relates to therapeutic aspects of medication treatment.

TN - Laboratory Test Needed
    This indicates when laboratory testing is required in relation to medication.

TP - Payer/Processor Question
    This code relates to insurance or payment processing queries regarding medication.

Result of Service Code: This code describes the action the pharmacist took in response to a conflict or the result of a pharmacist’s professional service (used in conjunction with the Professional Service Code). Will be used for certain cDUR Edits that reject code 88, as well as Opioid Safety Edits that have a “soft” reject which the pharmacy can override at the point of sale.
￼

I'll convert this pharmacy/medical response code table into a structured text format with explanatory notes.

Response Code Reference Guide

General Notes:
This guide contains codes from 00-3N that categorize different types of pharmacy/prescription responses and actions. The codes are organized in a hierarchical structure with related actions grouped together.

Section 1 - Fill Status Codes (1A-1K):
These codes detail how a prescription was filled and any variations from the original order.
- 00: Not Specified (Default/Null value)
- 1A: Filled As Is, False Positive
- 1B: Filled Prescription As Is
- 1C: Filled, With Different Dose
- 1D: Filled, With Different Directions
- 1E: Filled, With Different Drug
- 1F: Filled, With Different Quantity
- 1G: Filled, With Prescriber Approval
- 1H: Brand-to-Generic Change
- 1J: Rx-to-OTC Change
- 1K: Filled with Different Dosage Form

Section 2 - Non-Fill Status Codes (2A-2B):
These codes indicate when prescriptions were not filled:
- 2A: Prescription Not Filled
- 2B: Not Filled, Directions Clarified

Section 3 - Clinical Response Codes (3A-3N):
These codes cover clinical decisions, therapy changes, and patient care actions:
- 3A: Recommendation Accepted
- 3B: Recommendation Not Accepted
- 3C: Discontinued Drug
- 3D: Regimen Changed
- 3E: Therapy Changed
- 3F: Therapy Changed-cost increased acknowledged
- 3G: Drug Therapy Unchanged
- 3H: Follow-Up/Report
- 3J: Patient Referral
- 3K: Instructions Understood
- 3M: Compliance Aid Provided
- 3N: Medication Administered

This reference guide helps healthcare providers track and document various actions and responses related to prescription processing and patient care. The three-section structure (Fill Status, Non-Fill Status, and Clinical Response) provides a logical organization for quick reference and documentation.

Prescriber ID Qualifier: This code contains information regarding the type of prescriber identification number that was submitted on the original PDE (prescription drug event) data.
￼

Entry 1: Code: 01 Description: National Provider Identifier (NPI)
Entry 2: Code: 12 Description: Drug Enforcement Administration (DEA) number


Prescriber ID (NPI): The NPI number or the DEA number of the doctor that prescribed the medication (as indicated in the Prescriber ID Qualifier field). (Ex: 1992733444)
Pharmacy Service Type: The type of pharmacy used to dispense the prescription. Note: Pharmacy Service Type 05 (Long-term care pharmacy) has adjudication logic in place to bypass certain opioid restrictions. 
￼
Place of Service (POS): This code indicates where the service was performed. For example, drugs covered under Part B can be given to the member at a doctor’s office or in a hospital outpatient setting, while drugs under part D can be given at a pharmacy.
￼

# Pharmacy Type Codes and Descriptions

01 - Community/retail pharmacy
02 - Compounding pharmacy
03 - Home infusion therapy provider 
04 - Institutional pharmacy
05 - Long-term care pharmacy
06 - Mail order pharmacy 
07 - Managed care organization (MCO) pharmacy
08 - Specialty care pharmacy
99 - Other

Other Coverage Code: This code is used to communicate claim information to the next downstream payer. For example, if the claim is filed to a primary insurance and then filed to the secondary payer (next downstream payer), the Other Coverage Code communicates how the previous payer responded to the claim.
This field has a dropdown menu in the JUDI test claim interface:
￼
Other Payer Qualifier: This field can be used to enter the Bank Information Number (BIN) Card Issuer ID. This is required when Other Payer ID is used. Note: Use 03 for BIN.
Other Payer ID: This field can be used to enter another payer Bank Information Number (BIN). (Ex: 610852)
Other Payer Amount Paid (OPAP): This field can be used to enter the amount paid by other payer. (Ex: 15.44)
Other Payer Patient Responsibility Amount (OPPRA): This field can be used to enter the amount paid by the patient to the other payer. (Ex: 10)
Other Payer Reject Code: This field can be used to enter the reject code when the other payer has denied the payment for billing. (Ex: MR)
Patient Residence Code: This code indicates where the beneficiary lived when the prescription was filled, as reported on the PDE (prescription drug event) record.
￼

Code | Description
-----|-------------
0    | Not specified
1    | Home
3    | Nursing home/facility  
4    | Assisted living
6    | Group home
9    | Intermediate care facility
11   | Hospice

Prescription Origin Code: This code indicates whether the prescription was transmitted as an electronic prescription, by phone, by fax, or as a written paper copy.

￼

| Code | Description    |
|------|---------------|
| 0    | Not specified |
| 1    | Written       |
| 2    | Telephone     |
| 3    | Electronic    |
| 4    | Facsimile     |
| 5    | Pharmacy      |

Diagnosis Code Qualifier: This code contains information regarding the type of diagnosis code that was submitted. Note: Use 02 for ICD-10
Diagnosis Code: This code indicates the combination of letters and numbers that represents a certain medical condition, procedure, symptom, or disease. (Ex: ICD-10).
U&C/Submitted Cost: This field is used to reflect the cost of the drug to the consumer at the retail level without the use of insurance. (Ex: 147.89)
Ingredient Cost Submitted: This field is used to reflect the portion of a prescription's cost attributable to the drug's ingredients, chemical components, and/or substances. (Ex: 52.66)
Dispensing Fee Submitted: This field is used to reflect the amount paid for the professional services provided by the pharmacist for dispensing a prescription. (Ex: 15)
Vaccine Administration Reimbursement Amount: This field is used when reimbursement is requested for situations in which the provider both supplies and administers a vaccine. For example, a Part D vaccine might have very specific storage conditions that would impede most physicians’ offices from maintaining a ready inventory for their patients. It might be more efficient for the physician to have a pharmacy dispense and deliver the vaccine for administration. The pharmacy will submit the vaccine ingredient cost and dispensing fee to the Part D sponsor for reimbursement and the physician will bill the beneficiary, or requests reimbursement from the PBM, for the administration. (Ex: 25.48)
Special Packaging Indicator: This field is used to indicate when the pharmacy provides specific drugs in units of use packaging, bingo cards, cassettes, unit dose or other special packaging commonly required by LTC facilities.
￼

0=Not Specified;
1=Net Unit Dose;
2=Manufacturer Unit Dose;
3=Pharmacy Unit Dose;
4=Pharmacy Unit Dose
   Patient Compliance;
5=Pharmacy Multi-drug
   Patient Compliance
   Packaging;
6=Remote Device Unit Dose;
7=Remote Device Unit Dose
   Patient Compliance;
8=Manufacturer Unit of Use
   Package (not unit dose);

